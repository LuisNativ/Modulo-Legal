<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:p="http://primefaces.org/ui"
	  template="/pagina/maestra.xhtml">
<ui:define name="contenido">
<h:head>
<style>
</style>
</h:head> 
<f:view>
	<h:form id="form">
    
	<div class="ui-g ui-fluid">
        <div class="dsCuadrarCentroInicio tituloIzquieda">
            <h4><i class="fa fa-folder-open"></i> M&#243;dulo : Operaciones <small> > Mantenimiento Cliente</small></h4>
        </div>
    </div>				
		
	<p:panel styleClass="dsPanel2" widgetVar="pnl1" toggleSpeed="500" closeSpeed="500" style="margin-bottom:20px">
	    <f:facet name="header" >
	        <i class="fa fa-table"></i> Lista de Garantías con Solicitud de Firma
	    </f:facet>
	    <div class="ui-g ui-fluid ui-g-nopad">
		<div class="ui-g-12 ui-md-6 ui-lg-3 ui-xl-3">
			<p:outputLabel value="Tipo de Búsqueda" styleClass="dsLabel1"/>				
			<p:selectOneMenu value="#{mblistaconstituciongarantia.codigoBuscar}">
            	<f:selectItem itemLabel="Número Garantía" itemValue="1" />
            	<f:selectItem itemLabel="Firma" itemValue="2" />
            </p:selectOneMenu>
		</div>
		<div class="ui-g-12 ui-md-6 ui-lg-3 ui-xl-3">
			<p:outputLabel value="Descripción" styleClass="dsLabel1"/>
			<p:inputText type="text" styleClass="dsInput1" value="#{mblistaconstituciongarantia.descripcionBuscar}" autocomplete="off" maxlength="50">
			</p:inputText>
		</div>
		<div class="ui-g-12 ui-md-6 ui-lg-3 ui-xl-3">
			<p:commandButton styleClass="dsBoton1 tamanio1 principal" value="Buscar" onclick="PF('dlgPreload').show();" 
			oncomplete="PF('dlgPreload').hide();" action="#{mblistaconstituciongarantia.buscarEvaluacionSolicitudCreditoLegal()}" 
			update=":form:tblListaSolicitudDocumento"></p:commandButton>
		</div>
		</div>
		<p:dataTable id="tblListaSolicitudDocumento" value="#{mblistaconstituciongarantia.lstSolicitudDocumento}" var="item" styleClass="dsTabla3" paginator="true" rows="10" paginatorPosition="bottom"
					 rowKey="#{item.codigoDocumento}" reflow="true" tableStyle="table-layout:auto">
			<p:column headerText="Nro." styleClass="dsTextoCentro">
				<h:outputText value="#{item.codigoSolicitud}"/>
			</p:column>
			<p:column headerText="Nro. Garantía" styleClass="dsTextoCentro">
				<h:outputText value="#{item.codigoGarantia}"/>
			</p:column>
			<p:column headerText="Nombre Doc." styleClass="dsTextoCentro">
				<h:outputText value="#{item.nombreDocumentoOriginal}"/>
			</p:column>
			<p:column headerText="¿Tiene Firma?" styleClass="dsTextoCentro"> 
				<h:outputText value="#{item.firmaDocumento}"/>
			</p:column>
			<p:column headerText="Estado" styleClass="dsTextoCentro">
				<h:outputText value="#{item.descripcionEstadoDocumento}"/>
			</p:column>
			<p:column headerText="Usuario Reg." styleClass="dsTextoCentro">
				<h:outputText value="#{item.usuarioRegist}"/>
			</p:column>
			<p:column headerText="Fecha Reg." styleClass="dsTextoCentro">
				<h:outputText value="#{item.fechaRegistro} #{item.horaRegistro}"/>
			</p:column>	 
			<p:column headerText="" styleClass="dsTextoCentro">
				<p:commandButton styleClass="dsBoton5 green" icon="fa fa-pencil" title="Evaluar Documento" onclick="PF('dlgPreload').show();" oncomplete="PF('dlgPreload').hide();" action="#{mblistaconstituciongarantia.evaluarSolicitudDocumento(item)}"></p:commandButton>
	     	</p:column>
		</p:dataTable>
	</p:panel>
	</h:form>
</f:view>
</ui:define>
</ui:composition>